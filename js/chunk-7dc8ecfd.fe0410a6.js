(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dc8ecfd"],{1799:function(e,t,a){"use strict";var c=a("7a23"),o={"aria-label":"Page navigation example"},r={class:"pagination d-flex justify-content-center"},n=Object(c["createVNode"])("span",{"aria-hidden":"true"},"«",-1),d=Object(c["createVNode"])("span",{"aria-hidden":"true"},"»",-1);function l(e,t,a,l,s,i){return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])("nav",o,[Object(c["createVNode"])("ul",r,[Object(c["createVNode"])("li",{class:["page-item",{disabled:!a.page.has_pre}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(t){return e.$emit("get-data",a.page.current_page-1)}),["prevent"]))},[n])],2),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(a.page.total_pages,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["page-item",{active:t===a.page.current_page}],key:t},[Object(c["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(c["withModifiers"])((function(a){return e.$emit("get-data",t)}),["prevent"])},Object(c["toDisplayString"])(t),9,["onClick"])],2)})),128)),Object(c["createVNode"])("li",{class:["page-item",{disabled:!a.page.has_next}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(t){return e.$emit("get-data",a.page.current_page+1)}),["prevent"]))},[d])],2)])])])}var s={props:["page"]};s.render=l;t["a"]=s},"80ac":function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),o={class:"container"},r={class:"table mt-3 align-middle"},n=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",{class:"text-center",width:"120"},"訂單日期"),Object(c["createVNode"])("th",{class:"text-center"},"姓名"),Object(c["createVNode"])("th",{class:"text-center",width:"120"},"付款狀態"),Object(c["createVNode"])("th",{class:"text-center"},"訂單金額"),Object(c["createVNode"])("th",{class:"text-center",width:"80"},"查看細節"),Object(c["createVNode"])("th",{class:"text-center",width:"80"},"刪除")])],-1),d={class:"text-center"},l={class:"text-center"},s={class:"text-center"},i={class:"form-check form-switch"},b={key:0,class:"text-success"},O={key:1,class:"text-danger"},u={class:"text-center"},j={class:"text-center"},p=Object(c["createVNode"])("span",{class:"material-icons"}," find_in_page ",-1),N={class:"text-center"},V=Object(c["createVNode"])("span",{class:"material-icons"}," delete_outline ",-1);function m(e,t,a,m,h,g){var f=Object(c["resolveComponent"])("Loading"),v=Object(c["resolveComponent"])("Pagination"),k=Object(c["resolveComponent"])("OrderModal"),y=Object(c["resolveComponent"])("DeleteOrderModal");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])(f,{active:h.isLoading},null,8,["active"]),Object(c["createVNode"])("table",r,[n,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(h.orders,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:t},[Object(c["createVNode"])("td",d,Object(c["toDisplayString"])(e.$timeTransformer(t.create_at)),1),Object(c["createVNode"])("td",l,Object(c["toDisplayString"])(t.user.name),1),Object(c["createVNode"])("td",s,[Object(c["createVNode"])("div",i,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{class:"form-check-input",type:"checkbox",id:"paidSwitch".concat(t.id),"onUpdate:modelValue":function(e){return t.is_paid=e},onChange:function(e){return g.updatePaid(t)}},null,40,["id","onUpdate:modelValue","onChange"]),[[c["vModelCheckbox"],t.is_paid]]),t.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("span",b,"已付款")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",O,"未付款"))])]),Object(c["createVNode"])("td",u,Object(c["toDisplayString"])(e.$toCurrency(t.total)),1),Object(c["createVNode"])("td",j,[Object(c["createVNode"])("button",{class:"btn text-primary",onClick:function(e){return g.openModal(t)},type:"button"},[p],8,["onClick"])]),Object(c["createVNode"])("td",N,[Object(c["createVNode"])("button",{class:"btn text-danger",onClick:function(e){return g.openDeleteModal(t)}},[V],8,["onClick"])])])})),128))])]),Object(c["createVNode"])(v,{page:h.pagination,onGetData:g.getData},null,8,["page","onGetData"]),Object(c["createVNode"])(k,{ref:"orderModal",order:h.order},null,8,["order"]),Object(c["createVNode"])(y,{ref:"deleteModal",order:h.order},null,8,["order"])])}a("99af");var h=a("1799"),g={class:"modal fade",tabindex:"-1","aria-labelledby":"exampleModalLabel",ref:"orderModal"},f={class:"modal-dialog modal-xl"},v={class:"modal-content"},k=Object(c["createVNode"])("div",{class:"modal-header"},[Object(c["createVNode"])("h5",{class:"modal-title"},"訂單內容"),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),y={class:"modal-body"},x={class:"row"},B={class:"col-4"},M={class:"mb-2"},D={class:"mb-2"},w=Object(c["createTextVNode"])(" 付款狀態： "),S={key:0,class:"text-success"},C={key:1,class:"text-danger"},$={class:"mb-2"},_={class:"col-8"},L=Object(c["createVNode"])("h5",null,"客戶資料",-1),T={class:"table table-sm"},J={key:0},P=Object(c["createVNode"])("th",{style:{width:"100px"}},"姓名",-1),F=Object(c["createVNode"])("th",null,"Email",-1),G=Object(c["createVNode"])("th",null,"電話",-1),U=Object(c["createVNode"])("th",null,"地址",-1),q={class:"mb-2"},E=Object(c["createTextVNode"])(" 留言："),z=Object(c["createVNode"])("br",null,null,-1),A=Object(c["createVNode"])("h5",null,"訂單內容：",-1),H={class:"table table-hover"},I={class:"text-center"},K={class:"text-center"},Q={class:"text-center"},R=Object(c["createVNode"])("div",{class:"modal-footer"},[Object(c["createVNode"])("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"}," 確定 ")],-1);function W(e,t,a,o,r,n){return Object(c["openBlock"])(),Object(c["createBlock"])("div",g,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("div",v,[k,Object(c["createVNode"])("div",y,[Object(c["createVNode"])("div",x,[Object(c["createVNode"])("div",B,[Object(c["createVNode"])("div",M," 訂單日期："+Object(c["toDisplayString"])(e.$timeTransformer(a.order.create_at)),1),Object(c["createVNode"])("div",D,[w,a.order.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("span",S,"已付款")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",C,"未付款"))]),Object(c["createVNode"])("div",$," 訂單總金額：NT$ "+Object(c["toDisplayString"])(e.$toCurrency(a.order.total)),1)]),Object(c["createVNode"])("div",_,[L,Object(c["createVNode"])("table",T,[a.order.user?(Object(c["openBlock"])(),Object(c["createBlock"])("tbody",J,[Object(c["createVNode"])("tr",null,[P,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(a.order.user.name),1)]),Object(c["createVNode"])("tr",null,[F,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(a.order.user.email),1)]),Object(c["createVNode"])("tr",null,[G,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(a.order.user.tel),1)]),Object(c["createVNode"])("tr",null,[U,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(a.order.user.address),1)])])):Object(c["createCommentVNode"])("",!0)])])]),Object(c["createVNode"])("div",q,[E,z,Object(c["createVNode"])("textarea",{readonly:"",name:"",id:"",class:"w-100",value:a.order.message},null,8,["value"])]),Object(c["createVNode"])("div",null,[A,Object(c["createVNode"])("table",H,[Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(a.order.products,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:t},[Object(c["createVNode"])("th",I,Object(c["toDisplayString"])(t.product.title),1),Object(c["createVNode"])("td",K,Object(c["toDisplayString"])(t.qty)+" "+Object(c["toDisplayString"])(t.product.unit),1),Object(c["createVNode"])("td",Q,Object(c["toDisplayString"])(e.$toCurrency(t.final_total)),1)])})),128))])])])]),R])])],512)}var X=a("7b17"),Y={props:["order"],data:function(){return{modal:""}},methods:{openModal:function(){this.modal.show()}},mounted:function(){this.modal=new X["a"](this.$refs.orderModal)}};Y.render=W;var Z=Y,ee={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"deleteModal"},te={class:"modal-dialog"},ae={class:"modal-content"},ce=Object(c["createVNode"])("div",{class:"modal-header bg-danger text-light"},[Object(c["createVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},"刪除訂單"),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),oe={class:"modal-body"},re={class:"table"},ne=Object(c["createVNode"])("th",null,"訂單日期",-1),de=Object(c["createVNode"])("th",null,"訂購姓名",-1),le=Object(c["createVNode"])("th",null,"訂單金額",-1),se=Object(c["createVNode"])("div",{class:"modal-footer"},[Object(c["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 取消 "),Object(c["createVNode"])("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"}," 確認刪除 ")],-1);function ie(e,t,a,o,r,n){var d;return Object(c["openBlock"])(),Object(c["createBlock"])("div",ee,[Object(c["createVNode"])("div",te,[Object(c["createVNode"])("div",ae,[ce,Object(c["createVNode"])("div",oe,[Object(c["createVNode"])("table",re,[Object(c["createVNode"])("tbody",null,[Object(c["createVNode"])("tr",null,[ne,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.$timeTransformer(a.order.create_at)),1)]),Object(c["createVNode"])("tr",null,[de,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(null===(d=a.order.user)||void 0===d?void 0:d.name),1)]),Object(c["createVNode"])("tr",null,[le,Object(c["createVNode"])("td",null,"NT$ "+Object(c["toDisplayString"])(e.$toCurrency(a.order.total)),1)])])])]),se])])],512)}var be={props:["order"],data:function(){return{modal:""}},methods:{openModal:function(){this.modal.show()},deleteOrder:function(e){var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("randomno","/admin/order/").concat(e);this.$http.delete(t).then().catch()}},mounted:function(){this.modal=new X["a"](this.$refs.deleteModal)}};be.render=ie;var Oe=be,ue={components:{OrderModal:Z,Pagination:h["a"],DeleteOrderModal:Oe},data:function(){return{orders:[],pagination:{},order:[],isLoading:!1}},methods:{getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("randomno","/admin/orders?page=").concat(t);this.$http.get(a).then((function(t){e.orders=t.data.orders,e.pagination=t.data.pagination,e.isLoading=!1})).catch((function(e){console.log(e)}))},openModal:function(e){this.$refs.orderModal.openModal(),this.order=JSON.parse(JSON.stringify(e))},openDeleteModal:function(e){this.$refs.deleteModal.openModal(),this.order=JSON.parse(JSON.stringify(e))},updatePaid:function(e){var t=this;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("randomno","/admin/order/").concat(e.id),c={is_paid:e.is_paid};this.$http.put(a,{data:c}).then((function(){t.isLoading=!1}))}},mounted:function(){this.getData()}};ue.render=m;t["default"]=ue},b0c0:function(e,t,a){var c=a("83ab"),o=a("9bf2").f,r=Function.prototype,n=r.toString,d=/^\s*function ([^ (]*)/,l="name";c&&!(l in r)&&o(r,l,{configurable:!0,get:function(){try{return n.call(this).match(d)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-7dc8ecfd.fe0410a6.js.map